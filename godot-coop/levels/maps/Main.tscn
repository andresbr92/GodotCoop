[gd_scene format=3 uid="uid://cla33c2qqx78a"]

[ext_resource type="Script" uid="uid://bdxm36g6tmkyd" path="res://levels/maps/main.gd" id="1_ypdrr"]
[ext_resource type="PackedScene" uid="uid://b8nosybut0sfr" path="res://characters/player/player.tscn" id="2_mg6k3"]
[ext_resource type="InventoryDatabase" uid="uid://de5qy8ycey7yn" path="res://addons/inventory-system-demos/database/database.tres" id="3_bivqv"]
[ext_resource type="PackedScene" uid="uid://pjbph7067g6e" path="res://addons/inventory-system-demos/fps/dropped_items/rock.tscn" id="4_3w03t"]
[ext_resource type="PackedScene" uid="uid://bjfvmoveogy0m" path="res://addons/inventory-system-demos/fps/dropped_items/stone_axe.tscn" id="5_hxqi7"]
[ext_resource type="PackedScene" uid="uid://bmal6s1al7rbe" path="res://addons/inventory-system-demos/fps/dropped_items/wood.tscn" id="6_0okpl"]
[ext_resource type="PackedScene" uid="uid://cpsfowho6jqi0" path="res://addons/inventory-system-demos/fps/dropped_items/cooked_meat.tscn" id="7_6xxi0"]
[ext_resource type="PackedScene" uid="uid://x5igqejgwllh" path="res://items/inventory_items/potions/fire_potion.tscn" id="8_ypdrr"]
[ext_resource type="Material" uid="uid://coy4nf1ts2u0q" path="res://addons/assets/Materials/grid_mat.tres" id="9_mg6k3"]
[ext_resource type="Script" uid="uid://dbmmhdgkw6fu0" path="res://systems/projectile_spawner.gd" id="9_r7gtk"]
[ext_resource type="Script" uid="uid://owlc7hwlygbt" path="res://addons/inventory-system-demos/mp/dropped_item_spawner.gd" id="10_clxfl"]
[ext_resource type="Script" uid="uid://bn7s6bo56ow2w" path="res://addons/inventory-system-demos/mp/placeable_item_spawner.gd" id="11_au11x"]
[ext_resource type="Script" uid="uid://dttp27rk0lwvx" path="res://addons/inventory-system-demos/interaction_system/interact_action.gd" id="11_r7gtk"]
[ext_resource type="PackedScene" uid="uid://bqnv3x0igblvs" path="res://addons/inventory-system-demos/fps/labels.tscn" id="12_8ca51"]
[ext_resource type="PackedScene" uid="uid://da2b73383isem" path="res://addons/inventory-system-demos/ui/inventory_system_ui.tscn" id="13_vptr5"]
[ext_resource type="Resource" uid="uid://vm1ta374rw08" path="res://addons/inventory-system-demos/base/kenney_input_icons.tres" id="14_pj6ab"]
[ext_resource type="Script" uid="uid://ctu3vfl53whl3" path="res://addons/inventory-system-demos/ui/grid/grid_inventory_ui.gd" id="17_hxqi7"]
[ext_resource type="PackedScene" uid="uid://cxevor61mdhtc" path="res://addons/inventory-system-demos/ui/grid/grid_slot_ui.tscn" id="18_0okpl"]
[ext_resource type="PackedScene" uid="uid://cmfrl55ed4jfp" path="res://characters/npcs/human_dummy/human_npc.tscn" id="18_bivqv"]
[ext_resource type="PackedScene" uid="uid://ppoth6laefj7" path="res://items/inventory_items/potions/heal_potion.tscn" id="19_3w03t"]
[ext_resource type="PackedScene" uid="uid://ch1ixmsfcaf5c" path="res://addons/inventory-system-demos/ui/grid/grid_item_stack_ui.tscn" id="19_6xxi0"]
[ext_resource type="PackedScene" uid="uid://b2847opptwu7x" path="res://interactables/loot_container/loot_container.tscn" id="19_hxqi7"]
[ext_resource type="PackedScene" uid="uid://br8sd7qy15mun" path="res://interactables/harvest_nodes/harvestable.tscn" id="21_6xxi0"]
[ext_resource type="PackedScene" uid="uid://c7orlrjhtxxjb" path="res://interactables/items/ingredients/water_ingredient.tscn" id="23_8xksg"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_6f4by"]
sky_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)
ground_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)

[sub_resource type="Sky" id="Sky_d8mrn"]
sky_material = SubResource("ProceduralSkyMaterial_6f4by")

[sub_resource type="Environment" id="Environment_5lc62"]
background_mode = 2
sky = SubResource("Sky_d8mrn")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="Resource" id="Resource_clxfl"]
script = ExtResource("11_r7gtk")
metadata/_custom_type_script = "uid://dttp27rk0lwvx"

[node name="Main" type="Node" unique_id=1964116347]
script = ExtResource("1_ypdrr")
player_scene = ExtResource("2_mg6k3")
database = ExtResource("3_bivqv")

[node name="Environment" type="Node3D" parent="." unique_id=818538303]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Environment" unique_id=1591165464]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 46.7243, -24.7815)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="Environment" unique_id=562803295]
environment = SubResource("Environment_5lc62")

[node name="Level" type="Node3D" parent="." unique_id=1643769606]

[node name="Items" type="Node3D" parent="Level" unique_id=1716750582]

[node name="Rock" parent="Level/Items" unique_id=2120016230 instance=ExtResource("4_3w03t")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.1397533, 0.154406, 1.2583208)

[node name="Rock2" parent="Level/Items" unique_id=1446076844 instance=ExtResource("4_3w03t")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.696598, 0.154406, 4.0290365)

[node name="Rock3" parent="Level/Items" unique_id=2003451741 instance=ExtResource("4_3w03t")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.696598, 0.154406, 5.829918)

[node name="Rock4" parent="Level/Items" unique_id=1205729219 instance=ExtResource("4_3w03t")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.2026014, 0.154406, 5.829918)

[node name="StoneAxe" parent="Level/Items" unique_id=246487142 instance=ExtResource("5_hxqi7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.100421, 0, 5.9225407)

[node name="Wood" parent="Level/Items" unique_id=1950570839 instance=ExtResource("6_0okpl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.4310193, 0.05, 7.860209)

[node name="Wood2" parent="Level/Items" unique_id=1033856441 instance=ExtResource("6_0okpl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.8910847, 0.05, 7.860209)

[node name="Wood3" parent="Level/Items" unique_id=1490830861 instance=ExtResource("6_0okpl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.8910847, 0.05, 8.912882)

[node name="Wood4" parent="Level/Items" unique_id=353614461 instance=ExtResource("6_0okpl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.2310896, 0.05, 8.912882)

[node name="Wood5" parent="Level/Items" unique_id=200685349 instance=ExtResource("6_0okpl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.5397606, 0.05, 8.912882)

[node name="Wood6" parent="Level/Items" unique_id=128370817 instance=ExtResource("6_0okpl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.808957, 0.05, 8.912882)

[node name="Wood7" parent="Level/Items" unique_id=384306329 instance=ExtResource("6_0okpl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.808957, 0.05, 7.761835)

[node name="CookedMeat" parent="Level/Items" unique_id=2047587813 instance=ExtResource("7_6xxi0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.2992153, 0, 7.0511904)

[node name="Potion" parent="Level/Items" unique_id=309637969 instance=ExtResource("8_ypdrr")]
transform = Transform3D(0.9999992, -0.00042692822, 0.0011581425, 0.00042813784, 0.9999994, -0.0010267431, -0.0011576959, 0.0010272467, 0.9999988, -3.4928017, 0, 3.6172414)

[node name="Potion2" parent="Level/Items" unique_id=1581039507 instance=ExtResource("8_ypdrr")]
transform = Transform3D(0.9999992, -0.00042692822, 0.0011581425, 0.00042813784, 0.9999994, -0.0010267431, -0.0011576959, 0.0010272467, 0.9999988, -3.4928017, 0, 4.8416686)

[node name="Potion3" parent="Level/Items" unique_id=2100612613 instance=ExtResource("8_ypdrr")]
transform = Transform3D(0.9999992, -0.00042692822, 0.0011581425, 0.00042813784, 0.9999994, -0.0010267431, -0.0011576959, 0.0010272467, 0.9999988, -3.4928017, 0, 5.9403276)

[node name="Potion4" parent="Level/Items" unique_id=997106601 instance=ExtResource("8_ypdrr")]
transform = Transform3D(0.9999992, -0.00042692822, 0.0011581425, 0.00042813784, 0.9999994, -0.0010267431, -0.0011576959, 0.0010272467, 0.9999988, -4.488042, 0, 5.9403276)

[node name="Potion5" parent="Level/Items" unique_id=624392876 instance=ExtResource("8_ypdrr")]
transform = Transform3D(0.9999992, -0.00042692822, 0.0011581425, 0.00042813784, 0.9999994, -0.0010267431, -0.0011576959, 0.0010272467, 0.9999988, -4.488042, 0, 4.8588014)

[node name="Potion6" parent="Level/Items" unique_id=1388534198 instance=ExtResource("8_ypdrr")]
transform = Transform3D(0.9999992, -0.00042692822, 0.0011581425, 0.00042813784, 0.9999994, -0.0010267431, -0.0011576959, 0.0010272467, 0.9999988, -4.488042, 0, 3.7063942)

[node name="HealPotion" parent="Level/Items" unique_id=651601356 instance=ExtResource("19_3w03t")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.6344013, 4.7683716e-07, 2.9860444)

[node name="HealPotion2" parent="Level/Items" unique_id=1324642526 instance=ExtResource("19_3w03t")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.457982, 4.7683716e-07, 2.9860444)

[node name="HealPotion3" parent="Level/Items" unique_id=1340588436 instance=ExtResource("19_3w03t")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.7936996, 4.7683716e-07, 2.9860444)

[node name="WaterIngredient" parent="Level/Items" unique_id=1007750467 instance=ExtResource("23_8xksg")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.9230623, 0, 0.9107609)

[node name="Structures" type="Node3D" parent="." unique_id=1433449841]

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="Structures" unique_id=411736819]
material_override = ExtResource("9_mg6k3")
use_collision = true

[node name="CSGBox3D" type="CSGBox3D" parent="Structures/CSGCombiner3D" unique_id=1034143528]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 1, -7)
size = Vector3(8, 2, 10)

[node name="CSGBox3D11" type="CSGBox3D" parent="Structures/CSGCombiner3D" unique_id=828450404]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 3, 23.5)
size = Vector3(4, 6, 1)

[node name="CSGBox3D2" type="CSGBox3D" parent="Structures/CSGCombiner3D" unique_id=1895974386]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 1, -9)
size = Vector3(4, 2, 6)

[node name="CSGBox3D4" type="CSGBox3D" parent="Structures/CSGCombiner3D" unique_id=1796805374]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9, 1, -9)
size = Vector3(6, 2, 6)

[node name="CSGBox3D7" type="CSGBox3D" parent="Structures/CSGCombiner3D" unique_id=1008856502]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 23, 1, -17)
size = Vector3(4, 2, 4)

[node name="CSGBox3D8" type="CSGBox3D" parent="Structures/CSGCombiner3D" unique_id=1912836535]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 32, 2, -26)
size = Vector3(4, 4, 4)

[node name="CSGBox3D9" type="CSGBox3D" parent="Structures/CSGCombiner3D" unique_id=840488063]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 29.5, 2.5, -38.5)
size = Vector3(3, 5, 5)

[node name="CSGBox3D10" type="CSGBox3D" parent="Structures/CSGCombiner3D" unique_id=1081910408]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13.5, 3.5, -44.5)
size = Vector3(9, 7, 5)

[node name="CSGBox3D3" type="CSGBox3D" parent="Structures/CSGCombiner3D" unique_id=652741524]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 2, -12)
size = Vector3(6, 4, 12)

[node name="CSGBox3D6" type="CSGBox3D" parent="Structures/CSGCombiner3D" unique_id=1522229872]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 3, -21)
size = Vector3(6, 6, 6)

[node name="CSGBox3D5" type="CSGBox3D" parent="Structures/CSGCombiner3D" unique_id=614429819]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 3, -18)
size = Vector3(14, 6, 12)

[node name="CSGPolygon3D" type="CSGPolygon3D" parent="Structures/CSGCombiner3D" unique_id=737730783]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 2, 0, -6)
polygon = PackedVector2Array(0, 0, 0, 2, 6, 0)
depth = 4.0

[node name="CSGPolygon3D5" type="CSGPolygon3D" parent="Structures/CSGCombiner3D" unique_id=1449883743]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 26, 0, -6)
polygon = PackedVector2Array(-1, 0, 0, 4, 6, 0)
depth = 4.0

[node name="CSGPolygon3D4" type="CSGPolygon3D" parent="Structures/CSGCombiner3D" unique_id=37477957]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, -6, 0, -6)
polygon = PackedVector2Array(0, 0, 0, 2, 6, 0)
depth = 4.0

[node name="CSGPolygon3D3" type="CSGPolygon3D" parent="Structures/CSGCombiner3D" unique_id=1134327998]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -18, 4, -18)
polygon = PackedVector2Array(0, 0, 0, 2, 6, 0)
depth = 6.0

[node name="CSGPolygon3D2" type="CSGPolygon3D" parent="Structures/CSGCombiner3D" unique_id=1909661867]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12, 2, -6)
polygon = PackedVector2Array(0, 0, 0, 2, 6, 0)
depth = 6.0

[node name="CSGBox3D" type="CSGBox3D" parent="Structures" unique_id=1697612717 groups=["placeable_area"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.25, 0)
material_override = ExtResource("9_mg6k3")
use_collision = true
collision_layer = 17
size = Vector3(100, 0.5, 100)

[node name="ProjectileSpawner" type="MultiplayerSpawner" parent="." unique_id=1963443158 groups=["ProjectileSpawner"]]
spawn_path = NodePath("..")
script = ExtResource("9_r7gtk")
metadata/_custom_type_script = "uid://dbmmhdgkw6fu0"

[node name="DroppedItemSpawner" type="MultiplayerSpawner" parent="." unique_id=1181738734]
spawn_path = NodePath("..")
script = ExtResource("10_clxfl")
database = ExtResource("3_bivqv")
metadata/_custom_type_script = "uid://owlc7hwlygbt"

[node name="PlaceableItemSpawner" type="MultiplayerSpawner" parent="." unique_id=371031839]
spawn_path = NodePath("..")
script = ExtResource("11_au11x")

[node name="UI" type="CanvasLayer" parent="." unique_id=27087763]

[node name="Labels" parent="UI" unique_id=2079847158 instance=ExtResource("12_8ca51")]

[node name="InventorySystemUI" parent="UI" unique_id=1814528407 instance=ExtResource("13_vptr5")]

[node name="InteractorUI" parent="UI/InventorySystemUI" index="0"]
input_icons = ExtResource("14_pj6ab")

[node name="EquipmentContainer" type="VBoxContainer" parent="UI/InventorySystemUI/MarginContainer/HBoxContainer" index="1" unique_id=829956861]
visible = false
layout_mode = 2
alignment = 1

[node name="Label" type="Label" parent="UI/InventorySystemUI/MarginContainer/HBoxContainer/EquipmentContainer" unique_id=1543602113]
layout_mode = 2
text = "Equipment"

[node name="HeadSlot" type="Control" parent="UI/InventorySystemUI/MarginContainer/HBoxContainer/EquipmentContainer" unique_id=1229114681]
visible = false
layout_mode = 2
script = ExtResource("17_hxqi7")
grid_slot_ui_scene = ExtResource("18_0okpl")
grid_item_stack_ui_scene = ExtResource("19_6xxi0")
grid_slot_size = Vector2(64, 64)
metadata/_custom_type_script = "uid://ctu3vfl53whl3"

[node name="ChestSlot" type="Control" parent="UI/InventorySystemUI/MarginContainer/HBoxContainer/EquipmentContainer" unique_id=408165349]
visible = false
layout_mode = 2
script = ExtResource("17_hxqi7")
grid_slot_ui_scene = ExtResource("18_0okpl")
grid_item_stack_ui_scene = ExtResource("19_6xxi0")
grid_slot_size = Vector2(64, 64)
metadata/_custom_type_script = "uid://ctu3vfl53whl3"

[node name="HandSlot" type="Control" parent="UI/InventorySystemUI/MarginContainer/HBoxContainer/EquipmentContainer" unique_id=1718028519]
visible = false
layout_mode = 2
script = ExtResource("17_hxqi7")
grid_slot_ui_scene = ExtResource("18_0okpl")
grid_item_stack_ui_scene = ExtResource("19_6xxi0")
grid_slot_size = Vector2(64, 64)
metadata/_custom_type_script = "uid://ctu3vfl53whl3"

[node name="StackPopupMenu" parent="UI/InventorySystemUI" index="6"]
size = Vector2i(32, 8)

[node name="Connect Panel" type="ColorRect" parent="UI" unique_id=556102306]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.490196, 0.388235, 0.34902, 1)

[node name="VBoxContainer" type="VBoxContainer" parent="UI/Connect Panel" unique_id=520546904]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -20.0
offset_right = 20.0
offset_bottom = 20.0
grow_horizontal = 2
grow_vertical = 2

[node name="HostButton" type="Button" parent="UI/Connect Panel/VBoxContainer" unique_id=1434810372]
layout_mode = 2
text = "HOST"

[node name="ConnectButton" type="Button" parent="UI/Connect Panel/VBoxContainer" unique_id=298012987]
layout_mode = 2
text = "CONNECT TO LOCALHOST"

[node name="HumanNPC" parent="." unique_id=385850437 instance=ExtResource("18_bivqv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13, 0, 5)

[node name="Harvestable" parent="." unique_id=1634607651 instance=ExtResource("21_6xxi0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.7625704, 0.5000005, 4.388818)
object_name = null
interaction_text = null

[node name="LootContainer" parent="." unique_id=1489507830 instance=ExtResource("19_hxqi7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.6012278, 0.5, 7.8081636)
object_name = null
interaction_text = null

[node name="LootContainer2" parent="." unique_id=1675055399 instance=ExtResource("19_hxqi7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.6012278, 0.5, 10.268247)
object_name = null
interaction_text = null

[node name="LootContainer3" parent="." unique_id=1155768572 instance=ExtResource("19_hxqi7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.6012278, 0.5, 5.3363824)
object_name = null
interaction_text = null

[connection signal="button_up" from="UI/Connect Panel/VBoxContainer/HostButton" to="." method="_on_host_button_button_up"]
[connection signal="button_up" from="UI/Connect Panel/VBoxContainer/ConnectButton" to="." method="_on_connect_button_button_up"]

[editable path="UI/InventorySystemUI"]
