[gd_scene format=3 uid="uid://cla33c2qqx78a"]

[ext_resource type="Script" uid="uid://bdxm36g6tmkyd" path="res://main.gd" id="1_cm0pq"]
[ext_resource type="PackedScene" uid="uid://dq05gsoxhb16t" path="res://player/player.tscn" id="2_fos0i"]
[ext_resource type="PackedScene" uid="uid://bqnv3x0igblvs" path="res://addons/inventory-system-demos/fps/labels.tscn" id="4_cm0pq"]
[ext_resource type="PackedScene" uid="uid://pjbph7067g6e" path="res://addons/inventory-system-demos/fps/dropped_items/rock.tscn" id="5_lgr22"]
[ext_resource type="Script" uid="uid://owlc7hwlygbt" path="res://addons/inventory-system-demos/mp/dropped_item_spawner.gd" id="6_03owx"]
[ext_resource type="PackedScene" uid="uid://bjfvmoveogy0m" path="res://addons/inventory-system-demos/fps/dropped_items/stone_axe.tscn" id="6_trn2v"]
[ext_resource type="PackedScene" uid="uid://bmal6s1al7rbe" path="res://addons/inventory-system-demos/fps/dropped_items/wood.tscn" id="7_03owx"]
[ext_resource type="InventoryDatabase" uid="uid://de5qy8ycey7yn" path="res://addons/inventory-system-demos/database/database.tres" id="7_wkp8b"]
[ext_resource type="Script" uid="uid://cbfejjgdeyy6b" path="res://player/coop_character_inventory_system_ui.gd" id="9_03owx"]
[ext_resource type="Script" uid="uid://d0wo2gh3a0u7j" path="res://addons/inventory-system-demos/ui/grid/grid_inventory_panel.gd" id="10_fpfj3"]
[ext_resource type="Texture2D" uid="uid://dacqxpvwnm8x2" path="res://addons/inventory-system/icons/inventory_handler.svg" id="11_sc1dx"]
[ext_resource type="Texture2D" uid="uid://dsewxlrqmqe30" path="res://addons/inventory-system/icons/crafter.svg" id="12_kjvhd"]
[ext_resource type="Script" uid="uid://ctu3vfl53whl3" path="res://addons/inventory-system-demos/ui/grid/grid_inventory_ui.gd" id="13_5tuhn"]
[ext_resource type="PackedScene" uid="uid://cxevor61mdhtc" path="res://addons/inventory-system-demos/ui/grid/grid_slot_ui.tscn" id="14_2gh4u"]
[ext_resource type="PackedScene" uid="uid://ch1ixmsfcaf5c" path="res://addons/inventory-system-demos/ui/grid/grid_item_stack_ui.tscn" id="15_devvj"]
[ext_resource type="StyleBox" uid="uid://da318y6qn0f4e" path="res://addons/inventory-system-demos/grid_example/grid_item_stack_selection_style_box.tres" id="16_3b0ty"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_6f4by"]
sky_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)
ground_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)

[sub_resource type="Sky" id="Sky_d8mrn"]
sky_material = SubResource("ProceduralSkyMaterial_6f4by")

[sub_resource type="Environment" id="Environment_5lc62"]
background_mode = 2
sky = SubResource("Sky_d8mrn")
tonemap_mode = 2
glow_enabled = true

[node name="Main" type="Node" unique_id=1964116347]
script = ExtResource("1_cm0pq")
player_scene = ExtResource("2_fos0i")
database = ExtResource("7_wkp8b")

[node name="Environment" type="Node3D" parent="." unique_id=818538303]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Environment" unique_id=1591165464]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 46.7243, -24.7815)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="Environment" unique_id=562803295]
environment = SubResource("Environment_5lc62")

[node name="Level" type="Node3D" parent="." unique_id=1643769606]

[node name="Items" type="Node3D" parent="Level" unique_id=1716750582]

[node name="Rock" parent="Level/Items" unique_id=2120016230 instance=ExtResource("5_lgr22")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.1397533, 0.154406, 4.0290365)

[node name="Rock2" parent="Level/Items" unique_id=1446076844 instance=ExtResource("5_lgr22")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.696598, 0.154406, 4.0290365)

[node name="Rock3" parent="Level/Items" unique_id=2003451741 instance=ExtResource("5_lgr22")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.696598, 0.154406, 5.829918)

[node name="Rock4" parent="Level/Items" unique_id=1205729219 instance=ExtResource("5_lgr22")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.2026014, 0.154406, 5.829918)

[node name="StoneAxe" parent="Level/Items" unique_id=246487142 instance=ExtResource("6_trn2v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.100421, 0, 5.9225407)

[node name="Wood" parent="Level/Items" unique_id=1950570839 instance=ExtResource("7_03owx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.4310193, 0.05, 7.860209)

[node name="Wood2" parent="Level/Items" unique_id=1033856441 instance=ExtResource("7_03owx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.8910847, 0.05, 7.860209)

[node name="Wood3" parent="Level/Items" unique_id=1490830861 instance=ExtResource("7_03owx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.8910847, 0.05, 8.912882)

[node name="Wood4" parent="Level/Items" unique_id=353614461 instance=ExtResource("7_03owx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.2310896, 0.05, 8.912882)

[node name="Wood5" parent="Level/Items" unique_id=200685349 instance=ExtResource("7_03owx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.5397606, 0.05, 8.912882)

[node name="Wood6" parent="Level/Items" unique_id=128370817 instance=ExtResource("7_03owx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.808957, 0.05, 8.912882)

[node name="Wood7" parent="Level/Items" unique_id=384306329 instance=ExtResource("7_03owx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.808957, 0.05, 7.761835)

[node name="Structures" type="Node3D" parent="." unique_id=1433449841]

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="Structures" unique_id=411736819]
use_collision = true

[node name="CSGBox3D" type="CSGBox3D" parent="Structures/CSGCombiner3D" unique_id=1034143528]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 1, -7)
size = Vector3(8, 2, 10)

[node name="CSGBox3D11" type="CSGBox3D" parent="Structures/CSGCombiner3D" unique_id=828450404]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 3, 23.5)
size = Vector3(4, 6, 1)

[node name="CSGBox3D2" type="CSGBox3D" parent="Structures/CSGCombiner3D" unique_id=1895974386]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 1, -9)
size = Vector3(4, 2, 6)

[node name="CSGBox3D4" type="CSGBox3D" parent="Structures/CSGCombiner3D" unique_id=1796805374]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9, 1, -9)
size = Vector3(6, 2, 6)

[node name="CSGBox3D7" type="CSGBox3D" parent="Structures/CSGCombiner3D" unique_id=1008856502]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 23, 1, -17)
size = Vector3(4, 2, 4)

[node name="CSGBox3D8" type="CSGBox3D" parent="Structures/CSGCombiner3D" unique_id=1912836535]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 32, 2, -26)
size = Vector3(4, 4, 4)

[node name="CSGBox3D9" type="CSGBox3D" parent="Structures/CSGCombiner3D" unique_id=840488063]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 29.5, 2.5, -38.5)
size = Vector3(3, 5, 5)

[node name="CSGBox3D10" type="CSGBox3D" parent="Structures/CSGCombiner3D" unique_id=1081910408]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13.5, 3.5, -44.5)
size = Vector3(9, 7, 5)

[node name="CSGBox3D3" type="CSGBox3D" parent="Structures/CSGCombiner3D" unique_id=652741524]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 2, -12)
size = Vector3(6, 4, 12)

[node name="CSGBox3D6" type="CSGBox3D" parent="Structures/CSGCombiner3D" unique_id=1522229872]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 3, -21)
size = Vector3(6, 6, 6)

[node name="CSGBox3D5" type="CSGBox3D" parent="Structures/CSGCombiner3D" unique_id=614429819]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 3, -18)
size = Vector3(14, 6, 12)

[node name="CSGPolygon3D" type="CSGPolygon3D" parent="Structures/CSGCombiner3D" unique_id=737730783]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 2, 0, -6)
polygon = PackedVector2Array(0, 0, 0, 2, 6, 0)
depth = 4.0

[node name="CSGPolygon3D5" type="CSGPolygon3D" parent="Structures/CSGCombiner3D" unique_id=1449883743]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 26, 0, -6)
polygon = PackedVector2Array(-1, 0, 0, 4, 6, 0)
depth = 4.0

[node name="CSGPolygon3D4" type="CSGPolygon3D" parent="Structures/CSGCombiner3D" unique_id=37477957]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, -6, 0, -6)
polygon = PackedVector2Array(0, 0, 0, 2, 6, 0)
depth = 4.0

[node name="CSGPolygon3D3" type="CSGPolygon3D" parent="Structures/CSGCombiner3D" unique_id=1134327998]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -18, 4, -18)
polygon = PackedVector2Array(0, 0, 0, 2, 6, 0)
depth = 6.0

[node name="CSGPolygon3D2" type="CSGPolygon3D" parent="Structures/CSGCombiner3D" unique_id=1909661867]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12, 2, -6)
polygon = PackedVector2Array(0, 0, 0, 2, 6, 0)
depth = 6.0

[node name="CSGBox3D" type="CSGBox3D" parent="Structures" unique_id=1697612717]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.25, 0)
use_collision = true
size = Vector3(100, 0.5, 100)

[node name="DroppedItemSpawner" type="MultiplayerSpawner" parent="." unique_id=1181738734]
spawn_path = NodePath("..")
script = ExtResource("6_03owx")
database = ExtResource("7_wkp8b")
metadata/_custom_type_script = "uid://owlc7hwlygbt"

[node name="UI" type="CanvasLayer" parent="." unique_id=781518386]

[node name="Labels" parent="UI" unique_id=640308738 instance=ExtResource("4_cm0pq")]
mouse_filter = 2

[node name="CoopInventorySystemUI" type="Control" parent="UI" unique_id=578563618]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("9_03owx")
metadata/_custom_type_script = "uid://cbfejjgdeyy6b"

[node name="MarginContainer" type="MarginContainer" parent="UI/CoopInventorySystemUI" unique_id=433127980]
layout_mode = 1
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_top = -174.0
offset_right = 466.0
offset_bottom = 174.0
grow_vertical = 2
theme_override_constants/margin_left = 30
theme_override_constants/margin_top = 30
theme_override_constants/margin_right = 30
theme_override_constants/margin_bottom = 30

[node name="HBoxContainer" type="HBoxContainer" parent="UI/CoopInventorySystemUI/MarginContainer" unique_id=1998106643]
layout_mode = 2

[node name="GridInventoryPanel" type="PanelContainer" parent="UI/CoopInventorySystemUI/MarginContainer/HBoxContainer" unique_id=934342129 node_paths=PackedStringArray("grid_inventory_ui", "title_label")]
unique_name_in_owner = true
texture_filter = 1
custom_minimum_size = Vector2(406, 288)
layout_mode = 2
script = ExtResource("10_fpfj3")
grid_inventory_ui = NodePath("VBoxContainer/MarginContainer/GridInventoryUI")
title_label = NodePath("VBoxContainer/Panel/Title/HBoxContainer/TitleLabel")

[node name="VBoxContainer" type="VBoxContainer" parent="UI/CoopInventorySystemUI/MarginContainer/HBoxContainer/GridInventoryPanel" unique_id=1870169477]
layout_mode = 2

[node name="Panel" type="Panel" parent="UI/CoopInventorySystemUI/MarginContainer/HBoxContainer/GridInventoryPanel/VBoxContainer" unique_id=1536813431]
custom_minimum_size = Vector2(0, 32)
layout_mode = 2

[node name="Title" type="MarginContainer" parent="UI/CoopInventorySystemUI/MarginContainer/HBoxContainer/GridInventoryPanel/VBoxContainer/Panel" unique_id=84226687]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 4
theme_override_constants/margin_top = 4
theme_override_constants/margin_right = 4
theme_override_constants/margin_bottom = 4

[node name="HBoxContainer" type="HBoxContainer" parent="UI/CoopInventorySystemUI/MarginContainer/HBoxContainer/GridInventoryPanel/VBoxContainer/Panel/Title" unique_id=2018625954]
layout_mode = 2

[node name="TitleLabel" type="Label" parent="UI/CoopInventorySystemUI/MarginContainer/HBoxContainer/GridInventoryPanel/VBoxContainer/Panel/Title/HBoxContainer" unique_id=688450941]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
theme_override_colors/font_color = Color(0.207843, 0.831373, 0.956863, 1)
text = "Inventory"

[node name="SortButton" type="Button" parent="UI/CoopInventorySystemUI/MarginContainer/HBoxContainer/GridInventoryPanel/VBoxContainer/Panel/Title/HBoxContainer" unique_id=891530733]
unique_name_in_owner = true
visible = false
layout_mode = 2
tooltip_text = "Sort Inventory"
icon = ExtResource("11_sc1dx")

[node name="CloseButton" type="Button" parent="UI/CoopInventorySystemUI/MarginContainer/HBoxContainer/GridInventoryPanel/VBoxContainer/Panel/Title/HBoxContainer" unique_id=244424516]
unique_name_in_owner = true
visible = false
layout_mode = 2
tooltip_text = "Close Inventory"
icon = ExtResource("12_kjvhd")

[node name="MarginContainer" type="MarginContainer" parent="UI/CoopInventorySystemUI/MarginContainer/HBoxContainer/GridInventoryPanel/VBoxContainer" unique_id=2056102990]
layout_mode = 2
size_flags_vertical = 3
theme_override_constants/margin_left = 4
theme_override_constants/margin_top = 0
theme_override_constants/margin_right = 4
theme_override_constants/margin_bottom = 4

[node name="GridInventoryUI" type="Control" parent="UI/CoopInventorySystemUI/MarginContainer/HBoxContainer/GridInventoryPanel/VBoxContainer/MarginContainer" unique_id=2063810275]
unique_name_in_owner = true
layout_mode = 2
script = ExtResource("13_5tuhn")
grid_slot_ui_scene = ExtResource("14_2gh4u")
grid_item_stack_ui_scene = ExtResource("15_devvj")
grid_slot_size = Vector2(48, 48)
item_spacing = 2
selection_style = ExtResource("16_3b0ty")

[node name="Connect Panel" type="ColorRect" parent="UI" unique_id=283157288]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 1
color = Color(0.490196, 0.388235, 0.34902, 1)

[node name="VBoxContainer" type="VBoxContainer" parent="UI/Connect Panel" unique_id=1702308855]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -20.0
offset_right = 20.0
offset_bottom = 20.0
grow_horizontal = 2
grow_vertical = 2

[node name="HostButton" type="Button" parent="UI/Connect Panel/VBoxContainer" unique_id=82680289]
layout_mode = 2
text = "HOST"

[node name="ConnectButton" type="Button" parent="UI/Connect Panel/VBoxContainer" unique_id=973618211]
layout_mode = 2
text = "CONNECT TO LOCALHOST"

[connection signal="button_down" from="UI/Connect Panel/VBoxContainer/HostButton" to="." method="_on_host_button_button_down"]
[connection signal="button_down" from="UI/Connect Panel/VBoxContainer/ConnectButton" to="." method="_on_connect_button_button_down"]
